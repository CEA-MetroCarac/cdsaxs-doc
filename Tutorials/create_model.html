<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to create a simulation Model for cdsaxs? &mdash; cdsaxs v0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Setting Up a Development Environment" href="../for_developpers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            cdsaxs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#background">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">API reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../for_developpers.html">Setting Up a Development Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for_developpers.html#project-structure">Project Structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../for_developpers.html#creating-a-new-simulation-model">Creating a New Simulation Model</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to create a simulation Model for cdsaxs?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Create-the-Simulation-Class">Create the Simulation Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Define-the-Geometry-Class">Define the Geometry Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Separating-the-diffraction-logic-from-the-geometry">Separating the diffraction logic from the geometry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../for_developpers.html#testing">Testing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cdsaxs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../for_developpers.html">Setting Up a Development Environment</a></li>
      <li class="breadcrumb-item active">How to create a simulation Model for cdsaxs?</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Tutorials/create_model.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="How-to-create-a-simulation-Model-for-cdsaxs?">
<h1>How to create a simulation Model for cdsaxs?<a class="headerlink" href="#How-to-create-a-simulation-Model-for-cdsaxs?" title="Permalink to this heading"></a></h1>
<p>First let’s start by doing necessary imports (make sure that cdsaxs is installed in your environment).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np
import pandas as pd
from cdsaxs.simulations.base import Simulation, Geometry
</pre></div>
</div>
</div>
<section id="Create-the-Simulation-Class">
<h2>Create the Simulation Class<a class="headerlink" href="#Create-the-Simulation-Class" title="Permalink to this heading"></a></h2>
<p>Your simulation class should inherit from the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> protocol. This class is where the core logic of your simulation resides. It should use the geometric data from the <code class="docutils literal notranslate"><span class="pre">Geometry</span></code> class to set up and run the simulation.</p>
<p>Ensure that the <code class="docutils literal notranslate"><span class="pre">simulate_diffraction</span></code> method is implemented to perform the simulation. Depending on the complexity of your model, this method might involve extensive calculations or integrations.</p>
<p>If your simulation will be used in conjunction with a <code class="docutils literal notranslate"><span class="pre">Fitter</span></code> class, make sure to implement the <code class="docutils literal notranslate"><span class="pre">set_from_fitter</span></code> method. This will enable your simulation to correctly handle data provided by the <code class="docutils literal notranslate"><span class="pre">Fitter</span></code> and return results in a format that the <code class="docutils literal notranslate"><span class="pre">Fitter</span></code> can use.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>class CylinderSimulation(Simulation):
    &quot;&quot;&quot;A class representing a simulation of a cylinder for diffraction pattern calculation.&quot;&quot;&quot;

    def __init__(self, qys, qzs, from_fitter=False, initial_guess=None):
        &quot;&quot;&quot;Initializes the CylinderSimulation object.

        Args:
            qys (array-like): The q-values in the y-direction for diffraction calculation.
            qzs (array-like): The q-values in the z-direction for diffraction calculation.
            from_fitter (bool, optional): Indicates if the parameters should be taken from the fitter. Defaults to False.

        &quot;&quot;&quot;
        self.qys = qys
        self.qzs = qzs
        self.from_fitter = from_fitter
        self.CylinderGeometry = CylinderGeometry(from_fitter=from_fitter, initial_guess=initial_guess)
        self.CylinderDiffraction = CylinderDiffraction(CylinderGeometry=self.CylinderGeometry)

    def simulate_diffraction(self, params=None):
        &quot;&quot;&quot;Simulates the diffraction pattern of the cylinder.

        Args:
            params (dict, optional): Parameters for the cylinder. Defaults to None.
        Returns:
            intensity (array-like): A 2D array of floats containing the intensity.
        &quot;&quot;&quot;
        intensity = self.CylinderDiffraction.calculate_intensity(self.qys, self.qzs, params)

        if not self.from_fitter:
            return intensity[0]

        return intensity

    def set_from_fitter(self, from_fitter):
        &quot;&quot;&quot;Sets the parameters of the simulation from the fitter.

        Args:
            from_fitter (Fitter): The fitter object.
        &quot;&quot;&quot;
        self.from_fitter = from_fitter
        self.CylinderGeometry.from_fitter = from_fitter
        #You can also use this method to do all the intialization neccesary for fitting.
        self.CylinderGeometry.set_initial_guess_dataframe()

    @property
    def geometry(self):
        &quot;&quot;&quot;Returns the geometry of the simulation. This is necessary so that any external object can access the geometry of the simulation
        without having to know the internal structure of the simulation object.

        Returns:
            CylinderGeometry: The geometry of the simulation.
        &quot;&quot;&quot;
        return self.CylinderGeometry
</pre></div>
</div>
</div>
</section>
<section id="Define-the-Geometry-Class">
<h2>Define the Geometry Class<a class="headerlink" href="#Define-the-Geometry-Class" title="Permalink to this heading"></a></h2>
<p>Create a class that implements the <code class="docutils literal notranslate"><span class="pre">Geometry</span></code> protocol. This class should define the specific geometric properties of the system being simulated. For example, in a model of stacked trapezoids, this class would define the dimensions, angles, and positions of the trapezoids.</p>
<p>Implement the <code class="docutils literal notranslate"><span class="pre">convert_to_dataframe</span></code> method to organize the input parameters into a structured format suitable for the simulation. This method is crucial for ensuring that the parameters can be easily interpreted and manipulated by the <code class="docutils literal notranslate"><span class="pre">Fitter</span></code> class.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>class CylinderGeometry(Geometry):
    &quot;&quot;&quot;A class representing the geometry of a cylinder.&quot;&quot;&quot;

    def __init__(self, from_fitter=False, initial_guess=None):
        &quot;&quot;&quot;Initializes the CylinderGeometry object.

        Args:
            from_fitter (bool, optional): Indicates if the parameters should be taken from the fitter. Defaults to False.
        &quot;&quot;&quot;
        self.from_fitter = from_fitter
        self.initial_guess = initial_guess
        self.initial_guess_dataframe = None

    def set_initial_guess_dataframe(self):
        &quot;&quot;&quot;if the function is being called by the fitter this function sets the initial guess for the parameters.

        Args:
            initial_guess (dict): The initial guess for the parameters.
        &quot;&quot;&quot;
        self.initial_guess_dataframe = pd.DataFrame(self.initial_guess, index=[0])

    def convert_to_dataframe(self, params):
        &quot;&quot;&quot;Converts the parameters to a DataFrame.

        Args:
            params (dict or array): The parameters of the cylinder.
        Returns:
            df (DataFrame): A DataFrame containing the parameters.
        &quot;&quot;&quot;
        if self.from_fitter:
            df = pd.DataFrame(params, columns=self.initial_guess_dataframe.columns)
        else:
            df = pd.DataFrame(params, index=[0])

        return self.check_physical_validity(df)

    def check_physical_validity(self, params_df):
        &quot;&quot;&quot;Checks if the parameters are physically valid. In this case, the radius and length of the cylinder should be positive.

        Args:
            params_df (DataFrame): A DataFrame containing the parameters.
        Returns:
            params_df_c (DataFrame): A DataFrame containing the parameters that are physically valid.

        &quot;&quot;&quot;


        params_df_c = params_df.copy()
        keys = params_df_c.columns

        for key in keys:
            if params_df[key].values[0] &lt;= 0:
                params_df_c.loc[params_df_c[key] &lt;= 0, key] = np.nan

        return params_df_c
<br/></pre></div>
</div>
</div>
</section>
<section id="Separating-the-diffraction-logic-from-the-geometry">
<h2>Separating the diffraction logic from the geometry<a class="headerlink" href="#Separating-the-diffraction-logic-from-the-geometry" title="Permalink to this heading"></a></h2>
<p>The following class is to separate the diffraction logic from the geometry. This is useful when you have a complex geometry and you want to separate the geometry from the diffraction logic.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>class CylinderDiffraction():
    &quot;&quot;&quot;Class for simulating diffraction from a cylinder.&quot;&quot;&quot;

    def __init__(self, CylinderGeometry):
        &quot;&quot;&quot;Initialize the CylinderDiffraction object.

        Args:
            CylinderGeometry: object containing the geometric properties of the cylinder.
            xp: module, optional, Module to use for mathematical operations. Default is numpy.
        &quot;&quot;&quot;
        self.CylinderGeometry = CylinderGeometry

    def bessel_j1(self, x):
        &quot;&quot;&quot;
        Approximate the Bessel function of the first kind J1(x).
        The approximation is valid for small to moderately large x.
        &quot;&quot;&quot;
        # Use a series expansion for small x
        result = 0
        factorial = 1
        x2 = x ** 2
        term = x / 2
        for n in range(1, 10):  # 10 terms for a decent approximation
            factorial *= n
            term *= (-1) * x2 / (4 * n * (n + 1))
            result += term

        return result

    def calculate_intensity(self, qys, qzs, params):
        &quot;&quot;&quot;Calculate the diffraction intensity of the cylinder.

        Args:
            qys, qzs: array-like, The q-values in the y and z directions.
            geometry_params: dict, Parameters for the cylinder geometry.

        Returns:
            intensity: array-like, Simulated diffraction intensity.
        &quot;&quot;&quot;
        #get the dataframe containing the parameters
        params = self.CylinderGeometry.convert_to_dataframe(params)
        height = params[&#39;height&#39;].values
        radius = params[&#39;radius&#39;].values
        density = params[&#39;density&#39;].values


        height = height[..., np.newaxis]
        radius = radius[..., np.newaxis]
        density = density[..., np.newaxis]

        # Simplified form factor calculation for a cylinder
        form_factor = np.sinc(qzs * height / 2) * self.bessel_j1( qys*radius ) / (qys * radius)
        intensity = density * form_factor**2

        return intensity
</pre></div>
</div>
</div>
<p>Now you can use this model to simulate the diffraction and you can use the <code class="docutils literal notranslate"><span class="pre">Fitter</span></code> class to fit the simulated data to the experimental data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Example Usage
# Define the cylinder dimensions
radius = 50.  # in arbitrary units
height = 100.  # in arbitrary units
density = 10E-3  # in arbitrary units

# Define the q-space grid
qys = np.linspace(-0.1, 0.1, 100)  # qy range
qzs = np.linspace(-0.1, 0.1, 100)  # qz range

# Create a simulation object
cylinder_sim = CylinderSimulation(qys=qys, qzs=qzs)

# Calculate the intensity
intensity = cylinder_sim.simulate_diffraction(params={&#39;radius&#39;: radius, &#39;height&#39;: height, &#39;density&#39;: density})

# Output the intensity array
import matplotlib.pyplot as plt
plt.plot(qys, intensity)
plt.xlabel(&#39;qy&#39;)
plt.ylabel(&#39;Intensity(A.U.)&#39;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;Intensity(A.U.)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/Tutorials_create_model_10_1.png" src="../_images/Tutorials_create_model_10_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from cdsaxs.fitter import Fitter
Simulation2 = CylinderSimulation(qys=qys, qzs=qzs, initial_guess={&#39;radius&#39;: 50, &#39;height&#39;: 100, &#39;density&#39;: 10E-3})

Fitter1 = Fitter(Simulation=Simulation2, exp_data=intensity)

best_fit, best_fitness = Fitter1.cmaes(sigma=10, ngen=100, popsize=200, mu=10, n_default=3, restarts=0, tolhistfun=10E-5, ftarget=None, restart_from_best=True, verbose=True)

print(best_fit)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Start CMAES
gen     nevals  avg     std     min     max     fin
1       200     233.262 80.6471 135.371 429.445 0.245
2       200     314.815 114.571 130.915 653.277 0.715
3       200     276.81  107.234 129.292 516.864 0.38
4       200     265.197 151.812 0       620.97  1
5       200     357.904 128.323 159.782 611.096 0.215
6       200     315.257 116.888 121.962 790.554 0.33
7       200     308.891 98.0072 133.562 516.678 0.48
8       200     230.252 149.535 0       721.486 1
9       200     318.519 126.966 88.6564 680.663 0.355
10      200     264.668 101.159 123.782 631.803 0.65
11      200     213.086 138.512 0       727.891 1
12      200     133.439 158.754 0       623.208 0.495
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/nobackup/nd276333/Workspace/cdsaxs/src/cdsaxs/residual.py:126: RuntimeWarning: invalid value encountered in log10
  error = self.xp.nansum(self.xp.abs((self.xp.log10(exp_i_array) - self.xp.log10(sim_i_array))), axis=1)
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
13      200     299.068 117.924 135.115 679.371 0.235
14      200     285.005 93.4288 119.722 690.007 0.68
15      200     195.911 144.583 0       948.044 1
16      200     291.216 97.5352 121.216 566.565 0.35
17      200     208.878 156.587 0       543.623 1
18      200     352.514 133.962 140.851 924.107 0.28
19      200     121.238 153.878 0       588.26  0.465
20      200     342.373 144.674 130.789 789.37  0.295
21      200     447.011 229.718 139.927 1267.52 0.68
22      200     263.277 239.462 0       1259.55 1
23      200     449.334 294.143 130.381 1744.9  0.315
24      200     307.823 120.628 123.619 698.616 0.2
25      200     413.994 277.034 134.397 1882.29 0.68
26      200     203.999 175.945 0       653.568 0.49
27      200     423.34  228.083 134.353 1253.97 0.37
28      200     138.608 153.31  0       536.982 0.455
29      200     129.8   229.494 0       1322.04 1
30      200     28.909  134.489 0       1356.42 0.835
31      200     692.468 616.582 137.49  2648.74 0.12
32      200     42.682  133.479 0       772.677 0.49
33      200     235.485 519.285 0       2215.89 1
34      200     899.569 612.543 121.08  2293.35 0.16
35      200     1386.72 1002.39 140.424 3500.5  0.56
36      200     133.229 255.941 0       1227.77 0.51
37      200     352.59  744.925 0       3194.89 1
38      200     1853.93 1039.86 241.073 3363.82 0.135
39      200     2023.15 1268.3  142.443 4463.35 0.55
40      200     2432.82 1230.99 141.122 4428.93 0.575
41      200     164.718 421.187 0       1958.4  0.505
42      200     2324.49 1257.98 134.182 4704.66 0.215
43      200     2864.64 1461.83 139.945 5764.33 0.595
44      200     197.69  530.606 0       2729.79 0.53
45      200     3021.62 1469.42 220.723 5566.7  0.26
46      200     3261.53 1435.97 159.424 5447.3  0.54
47      200     183.023 552.861 0       2762.83 0.495
48      200     3311.25 1434.07 185.299 6252.52 0.315
49      200     2549.7  2461.61 0       6733.19 1
50      200     3985.67 1423.42 853.428 6182.97 0.185
51      200     296.151 954.19  0       4306.76 0.5
52      200     5079.75 1643.84 1476.99 8173.2  0.34
53      200     397.44  1052.25 0       4353.5  0.47
54      200     6017.08 1804.07 524.877 8363.08 0.27
55      200     5828.76 1827.54 180.6   8180.34 0.55
56      200     469.546 1304.17 0       5410.44 0.57
57      200     5813.31 1457.75 1706.74 8638.85 0.27
58      200     253.155 900.029 0       4343.47 0.51
59      200     5521.87 1695.6  1171.41 8080.83 0.225
60      200     70.7735 386.057 0       2617.9  0.49
61      200     108.883 624.492 0       4798.36 0.73
62      200     5977.56 1919.28 1250.97 8854.87 0.195
63      200     143.317 810.346 0       5601.97 0.5
64      200     7451.09 1817.76 1157.06 10577.5 0.305
65      200     8034.67 1999.27 1483.14 10508   0.535
66      200     779.554 1811.46 0       6939.55 0.5
67      200     312.222 1235.51 0       6993.1  0.82
68      200     7799.69 1588.52 4605.69 10371.6 0.17
69      200     8667.47 1773.35 2754.1  10964.1 0.56
70      200     387.788 1442.73 0       6321.83 0.51
71      200     7776.73 2042.43 340.166 10636.2 0.245
72      200     565.441 1651.31 0       6695.03 0.51
73      200     7944.08 2028.36 2237.84 10719.6 0.225
74      200     438.166 1522.35 0       7576.39 0.5
75      200     8343.2  2004.11 2801.16 11592.4 0.22
76      200     442.685 1579.08 0       7223.79 0.465
77      200     2099.52 3680.05 0       11359.6 1
78      200     8099.63 2033.16 2814.48 11403.8 0.15
79      200     76.1554 726.476 0       7006.3  0.46
80      200     8489.44 2089.04 2918.21 11614.9 0.25
81      200     0       0       0       0       0.47
82      200     33.1145 398.752 0       4834.72 0.73
83      200     8526.17 1997.45 3136.06 10993.6 0.115
84      200     10011.5 1600.62 3824.49 12781.6 0.56
85      200     221.329 1024.86 0       6776.99 0.505
86      200     9139.38 2383.75 1028.46 12360.3 0.195
87      200     10050.9 1634.93 2678.48 12186.1 0.565
88      200     9237.57 1838.58 705.675 11510   0.475
89      200     436.905 1525.72 0       7154.92 0.52
90      200     183.105 1047.71 0       7412.47 0.805
91      200     7846.67 1988.36 4115.8  10813.6 0.13
92      200     121.278 750.566 0       5854.77 0.475
93      200     77.8574 686.207 0       6640.01 0.78
94      200     9067.38 1678.26 5246.24 12140.4 0.11
95      200     10851.4 1571.14 4828.92 12954.8 0.51
96      200     10173.6 1814.31 3374.11 12430.4 0.545
97      200     204.624 1075.44 0       6848.21 0.52
98      200     9349.76 1828.5  4266.29 12527.1 0.295
99      200     199.077 1167.08 0       7820.67 0.515
100     200     96.1027 835.101 0       7437.49 0.765
Iteration terminated due to ngen criterion after 100 gens
(&#39;best&#39;, [-7.619581238518905, -18.136391660691814, -6.613894242094069], 0.0)
   radius  height  density
0     NaN     NaN      NaN
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/nobackup/nd276333/Workspace/cdsaxs/src/cdsaxs/fitter.py:289: RuntimeWarning: invalid value encountered in scalar divide
  if(n_infs / fitness_arr.shape[0] &gt; 0.5):
</pre></div></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../for_developpers.html" class="btn btn-neutral float-left" title="Setting Up a Development Environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Nischal Dhungana.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>